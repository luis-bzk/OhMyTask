import{getProjectUrl}from"./functions.js";import{tasks,setTasks}from"./globalVariables.js";export const showTasks=()=>{if(0===tasks.length){const t=document.querySelector("#tasks-list"),e=document.createElement("DIV");return e.textContent="There aren't tasks",e.classList.add("not-tasks"),void t.appendChild(e)}const t={0:"Pending",1:"Complete"};tasks.forEach(e=>{const s=document.querySelector("#tasks-list"),a=document.createElement("LI");a.classList.add("task"),a.dataset.taskId=e.id;const n=document.createElement("P");n.textContent=e.name,n.classList.add("task__name");const o=document.createElement("DIV");o.classList.add("task__options");const d=document.createElement("BUTTON");d.classList.add("task-state"),d.classList.add(""+t[e.state].toLowerCase()),d.textContent=t[e.state],d.dataset.taskState=e.state;const c=document.createElement("BUTTON");c.classList.add("task-delete"),c.textContent="Delete",c.dataset.taskDelete=e.id,o.appendChild(d),o.appendChild(c),a.appendChild(n),a.appendChild(o),s.appendChild(a)})};export const getTasks=async function(){try{const t="/api/tasks?id="+getProjectUrl(),e=await fetch(t),s=await e.json();setTasks(s.tasks),console.log("desde projectTask ",tasks),showTasks()}catch(t){console.log(t)}};