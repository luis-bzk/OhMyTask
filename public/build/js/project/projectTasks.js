import{getProjectUrl}from"./functions.js";const showTasks=t=>{if(0===t.length){const t=document.querySelector("#tasks-list"),e=document.createElement("DIV");return e.textContent="There aren't tasks",e.classList.add("not-tasks"),void t.appendChild(e)}const e={0:"Pending",1:"Complete"};t.forEach(t=>{const s=document.querySelector("#tasks-list"),a=document.createElement("LI");a.classList.add("task"),a.dataset.taskId=t.id;const n=document.createElement("P");n.textContent=t.name,n.classList.add("task__name");const o=document.createElement("DIV");o.classList.add("task__options");const d=document.createElement("BUTTON");d.classList.add("task-state"),d.classList.add(""+e[t.state].toLowerCase()),d.textContent=e[t.state],d.dataset.taskState=t.state;const c=document.createElement("BUTTON");c.classList.add("task-delete"),c.textContent="Delete",c.dataset.taskDelete=t.id,o.appendChild(d),o.appendChild(c),a.appendChild(n),a.appendChild(o),s.appendChild(a)})};export const getTasks=async function(){try{const t="/api/tasks?id="+getProjectUrl(),e=await fetch(t),s=await e.json(),{tasks:a}=s;showTasks(a)}catch(t){console.log(t)}};